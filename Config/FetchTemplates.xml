<?xml version="1.0" encoding="utf-8" ?>
<queries>
  <query id="entity_by_name">
    <fetch version="1.0" mapping="logical" >
      <entity name="adx_entityform" >
        <attribute name="adx_name" />
        <attribute name="adx_registerstartupscript" />
        <order attribute="adx_name" descending="false" />
        <filter type="and" >
          <condition attribute="statecode" operator="eq" value="0" />
          <filter type="or" >
            <condition attribute="adx_registerstartupscript" operator="like" value="powup_powerupevent" />
            <condition attribute="adx_entityname" operator="like" value="powup_powerupevent" />
          </filter>
        </filter>
        <attribute name="adx_tabname" />
        <attribute name="adx_formname" />
        <attribute name="adx_entityname" />
        <attribute name="adx_entityformid" />
      </entity>
    </fetch>
  </query>
  <query id="forms_for_entity">
    <fetch>
      <entity name="systemform" >
        <attribute name="formid" />
        <attribute name="objecttypecode" />
        <attribute name="name" />
        <attribute name="type" />
        <attribute name="description" />
        <filter type="and" >
          <condition attribute="objecttypecode" operator="eq" value="{otc}" />
        </filter>
      </entity>
    </fetch>
  </query>
  <query id="views_for_entity">
    <fetch>
      <entity name="savedquery" >
        <attribute name="name" />
        <attribute name="savedqueryid" />
        <attribute name="description" />
        <attribute name="querytype" />
        <filter>
          <condition attribute="returnedtypecode" operator="eq" value="{otc}" />
        </filter>
      </entity>
    </fetch>
  </query>
  <query id="entity_entity_form" name="Entity Form" primaryfield="adx_name">
    <fetch>
      <entity name="adx_entityform" >
        <attribute name="adx_name" />
        <attribute name="adx_entityname" />
        <attribute name="adx_registerstartupscript"/>
        <attribute name="adx_referenceentitylogicalname" />
        <filter type="or" >
          <condition attribute="adx_entityname" operator="eq" />
          <condition attribute="adx_registerstartupscript" operator="like" />
          <condition attribute="adx_referenceentitylogicalname" operator="eq" />
        </filter>
      </entity>
    </fetch>
  </query>
  <query id="entity_entity_list" name="Entity List" primaryfield="adx_name">
    <fetch>
      <entity name="adx_entitylist">
        <attribute name="adx_name" />
        <attribute name="adx_entitylistid" />
        <attribute name="adx_entityname" />
        <attribute name="adx_registerstartupscript" />
        <filter type="or" >
          <condition attribute="adx_entityname" operator="eq" />
          <condition attribute="adx_registerstartupscript" operator="like" />
        </filter>
      </entity>
    </fetch>
  </query>
  <query id="entity_webformstep" name="Web Form Step" primaryfield="adx_name">
    <fetch>
      <entity name="adx_webformstep" >
        <attribute name="adx_name" />
        <attribute name="adx_webformstepid" />
        <attribute name="adx_targetentitylogicalname" />
        <attribute name="adx_registerstartupscript" />
        <filter type="or" >
          <condition attribute="adx_targetentitylogicalname" operator="eq" />
          <condition attribute="adx_registerstartupscript" operator="like" value="%%" />
        </filter>
      </entity>
    </fetch>
  </query>
  <query id="general_webtemplate" name="Web Template" primaryfield="adx_name">
    <fetch>
      <entity name="adx_webtemplate" >
        <attribute name="adx_name" />
        <attribute name="adx_webtemplateid" />
        <attribute name="adx_source" />
        <filter type="or" >
          <condition attribute="adx_source" operator="like" />
        </filter>
      </entity>
    </fetch>
  </query>
  <query id="attribute_entityformmetadata" name="Entity Form Metadata" primaryfield="adx_name">
    <fetch>
      <entity name="adx_entityformmetadata" >
        <attribute name="adx_name" />
        <attribute name="adx_attributelogicalname" />
        <attribute name="adx_prepopulatefromattribute" />
        <attribute name="adx_onsavefromattribute" />
        <filter>
          <condition attribute="adx_attributelogicalname" operator="eq" />
        </filter>
        <link-entity name="adx_entityform" from="adx_entityformid" to="adx_entityform" link-type="inner" alias="ent" >
          <attribute name="adx_name" />
          <filter>
            <condition attribute="adx_entityname" operator="eq" />
          </filter>
        </link-entity>
      </entity>
    </fetch>
  </query>

  <query id="attribute_entityform" name="Entity Form" primaryfield="adx_name">
    <fetch>
      <entity name="adx_entityform">
        <attribute name="adx_name" />
        <attribute name="adx_redirecturlquerystringattribute" />
        <attribute name="adx_targetentityportaluserlookupattribute" />
        <attribute name="adx_referencetargetlookupattributelogicalname" />
        <attribute name="adx_redirecturlquerystringattributeparamname" />
        <attribute name="adx_referencequeryattributelogicalname" />
        <filter type="or">
          <condition attribute="adx_redirecturlquerystringattribute" operator="eq" />
          <condition attribute="adx_targetentityportaluserlookupattribute" operator="eq" />
          <condition attribute="adx_referencetargetlookupattributelogicalname" operator="eq" />
          <condition attribute="adx_redirecturlquerystringattributeparamname" operator="eq" />
          <condition attribute="adx_referencequeryattributelogicalname" operator="eq" />
          <condition attribute="adx_redirecturlquerystringattribute" operator="null" />
          <condition attribute="adx_targetentityportaluserlookupattribute" operator="null" />
          <condition attribute="adx_referencetargetlookupattributelogicalname" operator="null" />
          <condition attribute="adx_redirecturlquerystringattributeparamname" operator="null" />
          <condition attribute="adx_referencequeryattributelogicalname" operator="null" />
        </filter>
        <filter>
          <condition attribute="adx_entityname" operator="eq" />
        </filter>
      </entity>
    </fetch>    
  </query>
</queries>
